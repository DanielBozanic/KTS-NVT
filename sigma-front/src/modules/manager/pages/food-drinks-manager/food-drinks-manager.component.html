<!DOCTYPE html>
<div>
  <p-carousel
    [value]="items"
    [numVisible]="3"
    [numScroll]="3"
    [circular]="false"
  >
    <ng-template let-item pTemplate="item">
      <mat-card class="item-card">
        <div class="item-content">
          <div>
            <h2>{{ item.name }}</h2>
            <h2>{{ item.description }}</h2>
            <h2>Buying Price: {{ item.buyingPrice }}RSD</h2>
          </div>
          <button
            mat-raised-button
            color="primary"
            (click)="addItemToMenu(item.id)"
          >
            Add To Menu
          </button>
        </div>
      </mat-card>
    </ng-template>
  </p-carousel>
</div>

<div>
  <mat-card class="table-card">
    <div class="data-table">
      <mat-progress-bar
        mode="indeterminate"
        *ngIf="isLoading"
      ></mat-progress-bar>
      <table mat-table [dataSource]="itemInMenuDataSource">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef class="column-name">
            {{ selectedMenu.name }}
          </th>
          <td mat-cell *matCellDef="let element" class="column-name">
            {{ element.name }}
          </td>
        </ng-container>
        <ng-container matColumnDef="sellingPrice">
          <th
            mat-header-cell
            *matHeaderCellDef
            class="column-selling-price"
          ></th>
          <td mat-cell *matCellDef="let element" class="column-selling-price">
            Selling Price: {{ element.sellingPrice }}
          </td>
        </ng-container>
        <ng-container matColumnDef="delete">
          <th mat-header-cell *matHeaderCellDef class="column-remove-button">
            Expire date: {{ selectedMenu.expirationDate | date: "dd/MM/yyyy" }}
          </th>
          <td mat-cell *matCellDef="let element" class="column-remove-button">
            <button
              (click)="removeItemFromMenu(element.id)"
              mat-raised-button
              color="primary"
            >
              Remove
            </button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumnsItemsInMenu"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumnsItemsInMenu"
        ></tr>
      </table>
      <mat-paginator
        #paginatorItemsInMenu
        [pageIndex]="currentPage"
        [pageSize]="pageSize"
        [length]="totalRows"
        showFirstLastButtons
        (page)="pageChanged($event)"
      ></mat-paginator>
    </div>
    <div class="div-menu-select">
      <mat-label>Select Menu:</mat-label>
      <mat-select
        class="menu-select"
        [value]="selectedMenu.id"
        (selectionChange)="changeMenu($event.value)"
      >
        <mat-option
          *ngFor="let menu of activeNonExpiredMenus"
          [value]="menu.id"
        >
          {{ menu.name }}
        </mat-option>
      </mat-select>
    </div>
  </mat-card>
</div>

<div fxLayout="row">
  <div class="div-create-new-item-and-menu-buttons">
    <button mat-raised-button color="primary">Create New Menu</button>
    <button mat-raised-button color="primary">Create New Item</button>
  </div>
</div>
